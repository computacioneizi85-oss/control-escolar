<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Panel de DirecciÃ³n</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:#eef2f7;
    font-family: Arial, Helvetica, sans-serif;
}

.panel{
    background:white;
    padding:25px;
    border-radius:15px;
    box-shadow:0px 8px 20px rgba(0,0,0,0.08);
    margin-bottom:30px;
}

.menu-btn{
    width:100%;
    height:85px;
    font-size:19px;
    font-weight:600;
    border-radius:14px;
    display:flex;
    align-items:center;
    justify-content:center;
}

.section-title{
    font-weight:700;
    margin-bottom:15px;
}

table{
    background:white;
}

.acciones a{
    margin-right:5px;
}
</style>
</head>

<body class="container py-4">

<!-- ENCABEZADO -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Panel de DirecciÃ³n</h2>
    <a href="/logout" class="btn btn-danger">Cerrar sesiÃ³n</a>
</div>

<!-- ===== MENÃš ACADÃ‰MICO ===== -->
<div class="row mb-4">

    <div class="col-md-4 mb-3">
        <a href="/reporte_asistencias" class="btn btn-primary menu-btn">ğŸ“‹ Asistencias</a>
    </div>

    <div class="col-md-4 mb-3">
        <a href="/reporte_participaciones" class="btn btn-warning menu-btn">â­ Participaciones</a>
    </div>

    <div class="col-md-4 mb-3">
        <a href="/reporte_calificaciones" class="btn btn-success menu-btn">ğŸ“ Calificaciones</a>
    </div>

</div>

<!-- ===== GESTIÃ“N ===== -->
<div class="row mb-4">

    <div class="col-md-4 mb-3">
        <a href="/panel_grupos" class="btn btn-dark menu-btn">ğŸ« Administrar grupos</a>
    </div>

    <div class="col-md-4 mb-3">
        <a href="/asignar_grupos" class="btn btn-secondary menu-btn">ğŸ‘¨â€ğŸ« Asignar grupo a maestro</a>
    </div>

    <div class="col-md-4 mb-3">
        <a href="/reportes_admin" class="btn btn-danger menu-btn">ğŸš¨ Reportes disciplinarios</a>
    </div>

</div>

<!-- ===== BOTONES REGISTRO ===== -->
<div class="panel">

<div class="mb-3">
    <a href="/nuevo_alumno" class="btn btn-success">â• Registrar alumno</a>
    <a href="/nuevo_maestro" class="btn btn-primary">â• Registrar maestro</a>
</div>

<!-- FILTRO GRUPOS -->
<div class="mb-4">
    <b>Filtrar por grupo:</b><br>

    <a href="/admin" class="btn btn-secondary btn-sm">Todos</a>

   {% for g in grupos %}
<a class="btn btn-outline-primary m-1"
   href="/admin?grupo={{ g.nombre }}">
   {{ g.nombre }}
</a>
{% endfor %}

<a class="btn btn-dark m-1" href="/admin">Todos</a>
</div>

<h4 class="section-title">Alumnos registrados</h4>

<table class="table table-bordered table-hover">
<thead class="table-dark">
<tr>
<th>Nombre</th>
<th>Correo</th>
<th>Grupo</th>
<th>Acciones</th>
</tr>
</thead>

<tbody>
{% for a in alumnos %}
<tr>
<td>{{ a.nombre }}</td>
<td>{{ a.correo }}</td>
<td>{{ a.grupo }}</td>

<td class="acciones">

<a href="/reset_password/{{ a.correo }}"
class="btn btn-sm btn-warning">
Reset
</a>

<a href="/eliminar_alumno/{{ a._id }}"
class="btn btn-sm btn-danger"
onclick="return confirm('Â¿Eliminar alumno?')">
Borrar
</a>

</td>
</tr>
{% endfor %}
</tbody>
</table>

</div>

<!-- ===== MAESTROS ===== -->
<div class="panel">

<h4 class="section-title">Maestros registrados</h4>

<table class="table table-bordered table-hover">
<thead class="table-dark">
<tr>
<th>Nombre</th>
<th>Correo</th>
<th>Grupo asignado</th>
<th>Acciones</th>
</tr>
</thead>

<tbody>
{% for m in maestros %}
<tr>
<td>{{ m.nombre }}</td>
<td>{{ m.correo }}</td>
<td>{{ m.grupo if m.grupo else "Sin asignar" }}</td>

<td class="acciones">

<a href="/reset_password/{{ m.correo }}"
class="btn btn-sm btn-warning">
Reset
</a>

<a href="/eliminar_maestro/{{ m._id }}"
class="btn btn-sm btn-danger"
onclick="return confirm('Â¿Eliminar maestro?')">
Borrar
</a>

</td>
</tr>
{% endfor %}
</tbody>
</table>

</div>

</body>
</html>